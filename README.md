## 数据库结构要求

### 电影数据库（必须命名为"影视"）

需要包含以下属性：

| 属性名 | 类型 | 说明 |
|--------|------|------|
| 名称 | 标题类型 | 电影标题 |
| 导演/演讲人 | 文本类型 | 导演姓名 |
| 标签 | 多选类型 | 电影分类/类型 |
| 豆瓣评分/自评 | 数字类型 | 豆瓣评分（1-10） |
| 封面 | 文件类型 | 电影海报 |
| 状态 | 状态类型 | **必须包含选项：计划看、正在看、已看完** |
| 类型 | 选择类型 | 影视类型（电影/电视剧） |
| 上映日期 | 日期类型 | 最早时间的上映日期（只读取并导入第一个上映日期） |
| 看完日期 | 日期类型 | 观看完成日期 |
| 豆瓣链接 | 链接类型 | 豆瓣页面链接 |

### 书籍数据库（必须命名为"书籍"）

需要包含以下属性：

| 属性名 | 类型 | 说明 |
|--------|------|------|
| 名称 | 标题类型 | 书籍标题 |
| 书籍作者 | 文本类型 | 作者姓名 |
| 豆瓣评分 | 数字类型 | 豆瓣评分（1-10） |
| 书籍封面 | 文件类型 | 书籍封面图 |
| 状态 | 状态类型 | **必须包含选项：计划阅读、正在阅读、已经读完** |
| 添加日期 | 日期类型 | 添加书籍日期 |
| 书籍简介 | 文本类型 | 书籍简介 |
| 豆瓣链接 | 链接类型 | 豆瓣页面链接 |

### ⚠️ 重要配置说明

#### 状态属性配置

**电影数据库的"状态"属性必须包含以下三个选项：**
- `计划看`
- `正在看`
- `已看完`

**书籍数据库的"状态"属性必须包含以下三个选项：**
- `计划阅读`
- `正在阅读`
- `已经读完`

**配置步骤：**
1. 点击状态列的下拉箭头
2. 选择"编辑属性" 
3. 在状态选项中添加上述对应选项
4. 保存设置

#### 类型属性配置

**电影数据库的"类型"属性应包含以下选项：**
- `电影`
- `电视剧`

**配置步骤：**
1. 点击类型列的下拉箭头
2. 选择"编辑属性"
3. 添加上述选项
4. 保存设置

## 使用GitHub Actions自动同步

项目已配置GitHub Actions工作流，可以实现自动定时同步，无需本地运行。

### 🔧 GitHub Actions配置步骤

#### 1. Fork或Clone项目到你的GitHub仓库

#### 2. 设置GitHub Repository Secrets

在你的GitHub仓库中设置以下机密变量：

1. 进入你的GitHub仓库页面
2. 点击 `Settings` 选项卡
3. 在左侧菜单中点击 `Secrets and variables` → `Actions`
4. 点击 `New repository secret` 添加以下机密：

| 机密名称 | 说明 | 必需 |
|---------|------|------|
| `NOTION_TOKEN` | Notion集成令牌 | ✅ |
| `DOUBAN_NAME` | 豆瓣用户名 | ✅ |
| `MOVIE_DATABASE_ID` | 电影数据库ID | ✅ |
| `BOOK_DATABASE_ID` | 书籍数据库ID | ✅ |

#### 3. 获取所需的机密值

**Notion Token 获取：**
- 访问 [Notion Developers](https://www.notion.so/my-integrations)
- 创建新的集成
- 复制 `Internal Integration Token`
- 在数据库页面中添加集成权限

**数据库ID 获取：**
```
数据库URL: https://www.notion.so/workspace/207503e0 1234 5678 9101 dcbd03fd7abf?v=789ghi
数据库ID: 
复制文本：207503e0 1234 5678 9101 dcbd03fd7abf
修改格式：207503e0-1234-5678-9101-dcbd03fd7abf
```

**豆瓣用户名：**
- 你的豆瓣个人主页用户名，如：`https://www.douban.com/people/username/` 中的 `username`

**AUTH_TOKEN（可选）：**
- 通过浏览器开发者工具抓包获取
- 可提高豆瓣API访问成功率

#### 4. 启用GitHub Actions

1. 进入仓库的 `Actions` 选项卡
2. 如果是第一次使用，需要启用Actions
3. 找到 `豆瓣数据同步到Notion` 工作流

## 许可证

MIT License
